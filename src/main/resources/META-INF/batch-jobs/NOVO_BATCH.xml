<job id="gerar_dados_leitura" xmlns="http://xmlns.jcp.org/xml/ns/javaee" version="1.0">
	<listeners>
		<listener ref="preFaturamentoJobListener"/>
	</listeners>
	<properties>
		<property name="num_particoes" value="10" />
	</properties>
	
	<step id="apagarDados" next="preFaturamentoImovel">
		<batchlet ref="apagarDadosGerados">
		</batchlet>
	</step>
	
	<step id="preFaturamentoImovel">
		<chunk>
			<reader ref="preGerarConta">
				<properties>
					<property name="primeiroItem" value="#{partitionPlan['primeiroItem']}" />
					<property name="numItens" value="#{partitionPlan['numItens']}" />
				</properties>
			</reader>
			<processor ref="gerarConta" />
			<writer ref="posGerarConta" />
		</chunk>
		<partition>
			<mapper ref="particaoPreFaturamento" />
		</partition>
	</step>
</job>

