<job id="job_processar_rotas_para_gerar_arquivo"  xmlns="http://xmlns.jcp.org/xml/ns/javaee" version="1.0">
	<listeners>
		<listener ref="errorJobListener"/>
	</listeners>

	<step id="iniciar_atividade" next="processar_rotas">
		<batchlet ref="iniciarAtividadeJob"/>
	</step>

	<step id="processar_rotas" next="finaliza_atividade">
		<properties>
			<property name="javax.transaction.global.timeout" value="1200"/>
		</properties>
		<chunk item-count="1">
			<reader ref="lerRotasParaArquivo"/>
			<processor ref="iniciaGeracaoArquivoRota" />
			<writer ref="dummyItemWriter" />
		</chunk>
	</step>

	<step id="finaliza_atividade">
		<batchlet ref="finalizarAtividadeJob"/>
	</step>
</job>